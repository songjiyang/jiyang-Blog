---
bg: 'vim.png'
layout: post
title:  "vim文件"
crawlertitle: "vim"
summary: ""
date:   2019-04-23 09:26:00 +0700
categories: posts
tags: 'vim'
author: 宋天
---

Vim文件的打开，跳转，缓存，多窗口，多标签

#### 同时打开多个文件

| 缓存                             | 功能                                                                                                                   |
| -------------------------------- | ---------------------------------------------------------------------------------------------------------------------- |
| :ls                              | 显示缓存中的文件列表                                                                                                   |
| :bnext(:bn)                      | 跳到下一个文件                                                                                                         |
| :bprevious(:bp)                  | 跳到上一个文件                                                                                                         |
| C-^                              | 可以在当前文件和下个替换文件间切换，前面有%表示当前文件，有#表示下个替换文件,+表示已经被修改过,h代表hidden,a代表active |
| :buffer n(:b n)                  | 跳转缓存文件列表的标号所在文件                                                                                         |
| :buffer name                     | 跳转缓存文件列表名称所在文件，name只要可以标识出是哪个文件就可以了，可以通过tab键补全                                  |
| :bufdo cmd                       | 多缓存文件列表中的所有文件同时执行一个命令                                                                             |
| :bdelete n or :n,mbdelete(:bd n) | 删除缓存中的一个文件或者多个文件                                                                                       |
| :qall!                           | 退出，不保存所有文件                                                                                                   |
| :wall                            | 保存所有文件                                                                                                           |


| 参数            | 功能                                                   |
| --------------- | ------------------------------------------------------ |
| :args           | 显示作为vim的参数，当打开多个文件时，为多个文件的名称  |
| :args {arglist} | 清空并设置参数列表,可使用通配符（wildcard）,``包含命令 |
| :prev           | 跳转前一个文件                                         |
| :next(:n)       | 跳转后一个文件                                         |
| :argdo cmd      | 对多个打开的文件执行同一个命令                         |

| 通配符 | 功能                                            |
| ------ | ----------------------------------------------- |
| ?      | 匹配一个字符                                    |
| *      | 匹配任意字符，0个或多个                         |
| **     | 匹配任意字符，0个或多个，可以循环在目录下面寻找 |
| [abc]  | 匹配a或者b或者c                                 |

| 多窗口           | 功能                                        |
| ---------------- | ------------------------------------------- |
| `C-w s`          | 水平分裂窗口                                |
| `C-w v`          | 垂直分裂窗口                                |
| `:sp(lit) file`  | 水平分裂窗口，在新窗口加载file              |
| `:vsp(lit) file` | 垂直分裂窗口，在新窗口加载file              |
| `C-w w`          | 在多个窗口间循环的切换                      |
| `C-w hjkl`       | 分别将切换到左上下右面的窗口                |
| `:clo(se)`       | 关闭当前的窗口                              |
| `:on(ly)`        | 关闭其他的窗口，留下激活的窗口              |
| `C-w =`          | 使所有窗口高度和宽度尽可能相等              |
| `[N]C-w _`       | 不加N使该窗口高度最大,加N指定窗口高度为几行 |
| `[N]C-w |`       | 不加N使该窗口宽度最大,加N指定窗口宽度为几行 |

| 标签                      | 功能                                           |
| ------------------------- | ---------------------------------------------- |
| `:lcd`                    | 给当前窗口设置工作目录                         |
| `:tabe(dit) {filename}`   | 在新标签中打开filename这个文件                 |
| `:tabc(lose)`             | 关闭当前标签                                   |
| `:tabo(only)`             | 留下当前标签，关闭其他标签                     |
| `:tabp(revious) {N}` `gT` | 切换到前一个（第N个）标签                      |
| `:tabn(ext) {N}` `{N}gt`  | 切换到后一个（第N个）标签                      |
| `:tabmove {N}`            | 移动标签到N位置之后，0表示第一个，省略表示结尾 |

| 打开文件             | 功能                                                           |
| -------------------- | -------------------------------------------------------------- |
| `:edit %Tab`         | 会显示当前buffer的文件路径                                     |
| `:edit %:hTab`       | 会显示当前buffer的文件夹路径，不包含此文件名                   |
| `:set path+={path} ` | 设置find查找的路径，可以使用通配符                             |
| `:find {filename}`   | 之后可以在这个路径之内使用在打开路径下面的文件，可以使用通配符 |
| `:edit .` `:e.`      | 打开当前文件目录，使用newtr插件可以查看文件目录                |
| `:edit %:h`          | 打开缓存文件路径所在目录                                       |
| `:Explore` `:E`      | 打开缓存文件路径所在目录                                       |
| `:Sexplore`          | 打开缓存文件路径所在目录并放入水平分割的窗口中                 |
| `:Vexplore`          | 打开缓存文件路径所在目录并放入垂直分割的窗口中                 |

- cnoremap <expr> %% getcmdtype() == ':' ? expand('%:h').'/' : '%%'  一个vim映射，可以将%%代替%:hTab
- `:w !sudo tee % > /dev/null`  可以在vim内使用root用户保存文件，`w !{cmd}`  将缓存内容作为cmd的标准输入,`sudo`获取root权限，`tee`获取标准输入，输出标准输出，`%`代表当前文件路径 